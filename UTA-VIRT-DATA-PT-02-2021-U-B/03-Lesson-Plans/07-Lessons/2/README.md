# Module 7 Class 2: Filtering with Joins

## Overview

The main focus of today's class is performing more complex SQL queries that use joins with `GROUP BY` and `ORDER BY` clauses, that are filtered with the `WHERE` clause, and that apply aggregate functions to group records and filtered tables. You will also be introduced to the `DISTINCT ON` clause, which will help you with the Challenge. The `DISTINCT ON` clause will return non-duplicate or distinct values from a SQL query.  

## Learning Objectives

By the end of class, you will be able to:

* Perform SQL queries using `GROUP BY` and `ORDER BY`
* Perform SQL queries using aggregate functions
* Perform SQL queries using multiple joins to filter data

- - -

## Instructor Notes

The activities in this class will complement Lessons **7.3.4: Use Count, Group By, and Order By** through **7.3.6: Create a Tailored List**.  You will benefit from these activities if you've progressed through these lessons, which cover the following concepts, techniques, and tasks:  

* Use the `COUNT()` function in a SQL query
* Group and order data in a SQL query
* Use joins to combine records from two or more tables
* Filter SQL queries using multiple joins with the `WHERE` clause

## Student Resources

[activity resources](https://2u-data-curriculum-team.s3.amazonaws.com/data-viz-online-lesson-plans/07-Lessons/7-2-Student_Resources.zip)

- - -

## Before Class

### 0. Office Hours

| Activity Time: 0:30       |  Elapsed Time:     -0:30  |
|---------------------------|---------------------------|

<strong>üì£ Instructor Do: Challenge Instruction Walkthrough</strong>

<strong>üì£  Instructor Do: Office Hours</strong>

- - -

## During Class

### 1. Getting Started

| Activity Time:       0:10 |  Elapsed Time:      0:10  |
|---------------------------|---------------------------|

<strong>üì£ 1.1 Instructor Do: Foundation Setting (0:05)</strong>

<strong>üéâ 1.2 Everyone Do: Check-In (0:05)</strong>

### 2. Import Pagila Database

| Activity Time:       0:15 |  Elapsed Time:      0:25  |
|---------------------------|---------------------------|

<strong>üì£ 2.1 Instructor Do: Pagila Database Setup (0:15)</strong>

- - -

### 3. Gregarious Aggregates

| Activity Time:       0:30 |  Elapsed Time:      0:55  |
|---------------------------|---------------------------|

<strong>üì£ 3.1 Instructor Do: Aggregate Functions, Aliases, and Grouping (0:10)</strong>

<strong>‚úèÔ∏è 3.2 Student Do: Gregarious Aggregates (0:15)</strong>

<strong>‚≠ê 3.3 Review: Gregarious Aggregates (0:05)</strong>

- - -

### 4. Movies Ordered By

| Activity Time:       0:30 |  Elapsed Time:      1:25  |
|---------------------------|---------------------------|

<strong>üì£ 4.1 Instructor Do: Order By Aggregates (0:10)</strong>

<strong>üéâ  4.2 Everyone Do: Movies Ordered By (0:20)</strong>

- - -


### 5. Distinct Queries

| Activity Time:       0:30 |  Elapsed Time:      1:55  |
|---------------------------|---------------------------|

<strong>üì£ 5.1 Instructor Do: Introduction to Distinct Queries (0:10)</strong>

<strong>‚úèÔ∏è 5.2 Student Do: Distinct Queries (0:15)</strong>

<strong>‚≠ê 5.3 Review: Distinct Queries (0:05)</strong>

- - -

### 6. Ending Class

| Activity Time:       0:05 |  Elapsed Time:      2:00  |
|---------------------------|---------------------------|

<strong>üì£  6.1 Instructor Do: Review </strong>

* These are the skills that were covered today:
* Creating a database was covered in **Lesson 7.2.1**.
* Creating tables in a database was covered in **Lesson 7.2.2**.
* Importing data into tables was covered in **Lesson 7.2.3**.
* The `COUNT` function was covered in **Lesson 7.2.4**.
* The `DISTINCT ON ()` statement was covered in the **07-Stu_Distinct_Queries** activity and will be needed to complete the Challenge.

- - -

---
¬© 2021 Trilogy Education Services, LLC, a 2U, Inc. brand.  Confidential and Proprietary.  All Rights Reserved.
